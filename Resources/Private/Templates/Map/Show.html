<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:layout name="Default" />

This Template is responsible for displaying a single view for a domain object

If you modify this template, do not forget to change the overwrite settings
in /Configuration/ExtensionBuilder/settings.yaml:
  Resources:
    Private:
      Templates:
        Show.html: keep

Otherwise your changes will be overwritten the next time you save the extension in the extension builder

<f:section name="main">

<f:flashMessages />

<div id="leafletMap-{map.uid}" class="leafletMap leafletMap-{map.uid}"></div>
<div id="leafletSearch-{map.uid}" class="leafletSearch leafletSearch-{map.uid}">
    <form action="#">
        <div class="input-group">
            <input type="text" name="zip" class="form-control" placeholder="Search for ZIP Code">
            <span class="input-group-btn">
                <button class="btn btn-success" type="button"><span class="glyphicon glyphicon-search"></span></button>
            </span>
        </div>
    </form>
</div>
<div id="leafletPartners-{map.uid}" class="leafletPartners leafletPartners-{map.uid}">
<f:for each="{map.partners}" as="partner">
    <div class="leafletPartner" data-zip="{partner.zip}">
        <div class="row">
            <div class="col-xs-12">
                <f:if condition="{partner.logo}">
                    <f:image image="{partner.logo}" maxHeight="100" />
                </f:if>
                <f:link.external uri="{partner.url}" class="btn btn-primary pull-right" target="_blank">jetzt informieren</f:link.external>
                <div class="clearfix"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-6 col-md-4">
                <strong>{partner.name}</strong><br>
                {partner.street} {partner.houseno}<br>
                {partner.zip} {partner.city}
                <f:if condition="{partner.state}"><br>{partner.state}</f:if>
                <f:if condition="{partner.country.shortNameLocal}"><br>{partner.country.shortNameLocal}</f:if>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-8">
            <f:if condition="{partner.description}">
                {partner.description -> f:format.html()}
            </f:if>
            </div>
        </div>
        <f:if condition="{partner.summary}">
        <div class="row">
            <div class="col-xs-12">
                <p>
                    <strong>Verfuegbare NMS Kompetenzfelder</strong>
                </p>
                {partner.summary -> f:format.html()}
            </div>
        </div>
        </f:if>
    </div>
</f:for>
</div>


<style type="text/css">
<![CDATA[
#leafletMap-]]>{map.uid}<![CDATA[ {
    width: ]]>{f:if(condition:'{settings.mapWidth}',then:'{settings.mapWidth}',else:'100%')}<![CDATA[;
    height: ]]>{f:if(condition:'{settings.mapHeight}',then:'{settings.mapHeight}',else:'550px')}<![CDATA[;
}]]>
</style>

<script type="text/javascript">
<![CDATA[
if (leafletMaps === undefined) { var leafletMaps = []; }
if (leafletPartners === undefined) { var leafletPartners = []; }
leafletMaps.push({
    uid: ]]>{map.uid}<![CDATA[,
    latitude: ]]>{map.latitude}<![CDATA[,
    longitude: ]]>{map.longitude}<![CDATA[,
    initZoomLevel: ]]>{settings.initZoomLevel}<![CDATA[,
});
leafletPartners.push(]]>{partnersJson -> f:format.raw()}<![CDATA[);
]]>
</script>

</f:section>
</html>